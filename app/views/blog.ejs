<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Blog</title>
    <%- include('./partials/head') %>
  </head>
  <body>
    <%- include('./partials/nav') %>

    <!-- CONTENT -->
    <div class="container mt-4">
      <h2><%= blog.title %></h2>
      <img src="<%= blog.coverImage %>" class="mt-3" style="height: 500px" />
      <p class="mt-3"><%= blog.body %></p>
    </div>

    <!-- AUTHOR -->
    <div class="container my-4" style="display: flex; gap: 10px; height: 50px">
      <img src="<%= blog.createdBy.profileImageUrl %>" style="width: 50px" />
      <p>
        <span style="font-weight: 500">Author: </span><%=
        blog.createdBy.fullName %>
      </p>
    </div>

    <!-- POST COMMENT -->
    <div class="container my-4">
      <h2>Comments (<%= comments.length %>) </h2>
      <form action="/blog/comment/<%= blog._id %>" method="post">
        <label for="coverImage" class="form-label">Drop a comment:</label>
        <div style="display: flex; gap: 10px">
          <input type="text" name="content" class="form-control" id="content" />
          <button type="submit" class="btn btn-primary" style="width: 10rem">
            Post
          </button>
        </div>
      </form>
    </div>

    <!-- COMMENTS -->
    <% comments.forEach(comment => { %>
    <div class="container my-4" style="display: flex; gap: 10px; height: 50px">
      <div>
        <img
          src="<%= comment.createdBy.profileImageUrl %>"
          style="width: 50px"
        />
      </div>
      <div style="display: flex; gap: 10px; align-items: center;">
        <p style="font-weight: 500;"><%= comment.createdBy.fullName %></p><p><%= comment.content %></p>
      </div>
    </div>
    <% }) %> <%- include('./partials/scripts') %>
  </body>
</html>
